<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
lang="en" xml:lang="en">
<head>

<title>Emacs Starter Kit</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2009-08-02 18:41:24 MDT"/>
<meta name="author" content="Eric Schulte"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Emacs Starter Kit</h1>

<blockquote>

<p>Emacs outshines all other editing software in approximately the
same way that the noonday sun does the stars. It is not just bigger
and brighter; it simply makes everything else vanish.
</p>
</blockquote>

<p>-Neal Stephenson, "In the Beginning was the Command Line"
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Introduction </a>
<ul>
<li><a href="#sec-1.1">Learning </a></li>
<li><a href="#sec-1.2">Installation </a></li>
<li><a href="#sec-1.3">Structure </a></li>
<li><a href="#sec-1.4">Emacs Lisp Package Archive </a></li>
<li><a href="#sec-1.5">Contributing </a></li>
</ul>
</li>
<li><a href="#sec-2">Implementation </a>
<ul>
<li><a href="#sec-2.1">Starter Kit Basics </a></li>
<li><a href="#sec-2.2">Starter Kit Defuns </a></li>
<li><a href="#sec-2.3">Starter Kit Bindings </a></li>
<li><a href="#sec-2.4">Starter Kit Registers </a></li>
<li><a href="#sec-2.5">Starter Kit Misc </a></li>
<li><a href="#sec-2.6">Starter Kit ELPA </a></li>
<li><a href="#sec-2.7">Starter Kit Eshell </a></li>
<li><a href="#sec-2.8">Starter Kit Lisp </a></li>
<li><a href="#sec-2.9">Starter Kit Ruby </a></li>
<li><a href="#sec-2.10">Starter Kit JS </a></li>
<li><a href="#sec-2.11">Starter Kit Perl </a></li>
</ul>
</li>
<li><a href="#sec-3">Development </a>
<ul>
<li><a href="#sec-3.1">Tasks [1/10] </a></li>
<li><a href="#sec-3.2">Bugs [0/1] </a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Introduction </h2>
<div class="outline-text-2" id="text-1">


<p>
This should provide a saner set of defaults than you get normally with
Emacs. It's intended for beginners, but it should provide a reasonable
working environment for anyone using Emacs for dynamic languages. The
main advantage of the Starter Kit is that it provides better default
settings and bundles many useful libraries.
</p>
<p>
The latest version is at <a href="http://github.com/technomancy/emacs-starter-kit/">http://github.com/technomancy/emacs-starter-kit/</a>
</p>

</div>

<div id="outline-container-1.1" class="outline-3">
<h3 id="sec-1.1">Learning </h3>
<div class="outline-text-3" id="text-1.1">


<p>
This won't teach you Emacs, but it'll make it easier to get
comfortable. To access the tutorial, press control-h followed by t.
</p>
<p>
The <a href="http://emacswiki.org">Emacs Wiki</a> is also very handy.
</p>
</div>

</div>

<div id="outline-container-1.2" class="outline-3">
<h3 id="sec-1.2">Installation </h3>
<div class="outline-text-3" id="text-1.2">


<ol>
<li>
Install Emacs (at least version 22) Use your package manager if you
have one.  Otherwise, Mac users should get it <a href="http://www.apple.com/downloads/macosx/unix_open_source/carbonemacspackage.html">from Apple</a>, or
install it directly from <a href="http://savannah.gnu.org/projects/emacs/">from source</a> following the instructions in
<code>nextstep/INSTALL</code>.  Windows users can get it <a href="http://ftp.gnu.org/gnu/emacs/windows/emacs-22.3-bin-i386.zip">from GNU</a>.
</li>
<li>
Move the directory containing this file to <code>~/.emacs.d</code> <sup><a class="footref" name="fnr.1" href="#fn.1">1</a></sup>
</li>
<li>
Launch Emacs!

</li>
</ol>

<p>If you are missing some autoloads after an update (should manifest
itself as "void function: foobar" errors) try M-x regen-autoloads.
</p>
<p>
If you want to keep your regular ~/.emacs.d in place and just launch a
single instance using the starter kit, try the following invocation:
</p>



<pre class="src src-sh">
emacs -q -l ~/src/emacs-starter-kit/init.el

</pre>




<p>
Note that having a ~/.emacs file might override the starter kit
loading, so if you've having trouble loading it, make sure that file
is not present.
</p>
</div>

</div>

<div id="outline-container-1.3" class="outline-3">
<h3 id="sec-1.3">Structure </h3>
<div class="outline-text-3" id="text-1.3">


<p>
The init.el file is where everything begins. It's the first file to
get loaded. Additional customization embedded in this file provides
what I consider to be better defaults, both for different programming
languages and for built-in Emacs features like bindings or registers.
</p>
<p>
Files that are pending submission to <a href="#sec-1.4">ELPA</a> are bundled with the starter
kit under the directory <a href="elpa-to-submit/">elpa-to-submit/</a>. The understanding is that
these are bundled just because nobody's gotten around to turning them
into packages, and the bundling of them is temporary. For these
libraries, autoloads will be generated and kept in the <a href="loaddefs.el">loaddefs.el</a>
file. This allows them to be loaded on demand rather than at startup.
Additionally any emacs-lisp packages located under the <a href="src/">src/</a> directory
will be added to the load-path.
</p>
<p>
There are also a few files that are meant for code that doesn't belong
in the Starter Kit. First, the user-specific-config file is the file
named after your user with the extensions <code>.el</code> or <code>.org</code> <sup><a class="footref" name="fnr.2" href="#fn.2">2</a></sup>. In
addition, if a directory named after your user exists, it will be
added to the load-path, and any elisp or org-mode w/embedded elisp
files in it will be loaded. Finally, the Starter Kit will look for a
file named after the current hostname ending in <code>.el</code> or <code>.org</code> which
will allow host-specific configuration. This is where you should put
code that you don't think would be useful to everyone. That will allow
you to merge with newer versions of the starter-kit without conflicts.
</p>
</div>

</div>

<div id="outline-container-1.4" class="outline-3">
<h3 id="sec-1.4">Emacs Lisp Package Archive </h3>
<div class="outline-text-3" id="text-1.4">


<p>
Libraries from <a href="http://tromey.com/elpa">ELPA</a> are preferred when available since dependencies
are handled automatically, and the burden to update them is removed
from the user. In the long term, ideally everything would be installed
via ELPA, and only <a href="package.el">package.el</a> would need to be distributed with the
starter kit. (Or better yet, <a href="package.el">package.el</a> would come with Emacs&hellip;) See
<a href="#sec-2.6">Starter Kit ELPA</a> for a list of libraries that are pending submission
to ELPA. Packages get installed in the <a href="elpa/">elpa/</a> directory.
</p>
<p>
There's no vendor/ directory in the starter kit because if an external
library is useful enough to be bundled with the starter kit, it should
be useful enough to submit to ELPA so that everyone can use it, not
just users of the starter kit.  However any packages included in the
<a href="src">src/</a> directory will be added to the load-path, for tracking bleeding
edge packages.
</p>
<p>
Sometimes packages are removed from the Starter Kit as they get added
to ELPA itself. This has occasionally caused problems with certain
packages. If you run into problems with such a package, try removing
everything from inside the elpa/ directory and invoking M-x
starter-kit-elpa-install in a fresh instance.
</p>
</div>

</div>

<div id="outline-container-1.5" class="outline-3">
<h3 id="sec-1.5">Contributing </h3>
<div class="outline-text-3" id="text-1.5">


<p>
If you know your way around Emacs, please try out the starter kit as a
replacement for your regular dotfiles for a while. If there's anything
you just can't live without, add it or let me know so I can add
it. Take a look at what happens in <a href="init.el">init.el</a> to get started.
</p>
<p>
Also: see the <a href="#sec-3.1">Tasks section</a> in this document. Helping submit new
libraries to ELPA is the easiest way to help out. There are two ways
you can do this: either take new libraries and make them ready for
ELPA, dropping them in the elpa-to-submit directory or take files that
are already in elpa-to-submit, ensuring all their dependencies are
correctly loaded into ELPA, and sending them to the ELPA
maintainer. There are details at <a href="http://tromey.com/elpa/upload.html">http://tromey.com/elpa/upload.html</a>
for how ELPA submission works. Grep the project for TODO for other
things.
</p>
<p>
Files are licensed under the same license as Emacs unless otherwise
specified. See the file COPYING for details.
</p>
<p>
The latest version is at <a href="http://github.com/technomancy/emacs-starter-kit/">http://github.com/technomancy/emacs-starter-kit/</a>
</p>
<p>
On Unix, <code>/home/$USER/.emacs.d</code>, on windows <code>Documents and Settings/%your user name%/Application Data</code>
</p>

</div>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">Implementation </h2>
<div class="outline-text-2" id="text-2">

<p>This section contains all code implementing the Emacs Starter Kit.
</p>

</div>

<div id="outline-container-2.1" class="outline-3">
<h3 id="sec-2.1">Starter Kit Basics </h3>
<div class="outline-text-3" id="text-2.1">


<ul>
<li id="sec-2.1.1">Load path etc. <br/>




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>setq dotfiles-dir <span style="color: #8c8c8c;">(</span>file-name-directory
<span style="color: #8c8c8c;">(</span>or <span style="color: #8c8c8c;">(</span>buffer-file-name<span style="color: #8c8c8c;">)</span> load-file-name<span style="color: #8c8c8c;">)))</span>

<span style="color: #8c8c8c;">(</span>add-to-list 'load-path dotfiles-dir<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'load-path <span style="color: #8c8c8c;">(</span>concat dotfiles-dir <span style="color: #bc8f8f;">"/elpa-to-submit"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'load-path <span style="color: #8c8c8c;">(</span>concat dotfiles-dir <span style="color: #bc8f8f;">"/elpa-to-submit/jabber"</span><span style="color: #8c8c8c;">))</span>

<span style="color: #8c8c8c;">(</span>setq autoload-file <span style="color: #8c8c8c;">(</span>concat dotfiles-dir <span style="color: #bc8f8f;">"loaddefs.el"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>setq package-user-dir <span style="color: #8c8c8c;">(</span>concat dotfiles-dir <span style="color: #bc8f8f;">"elpa"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>setq custom-file <span style="color: #8c8c8c;">(</span>concat dotfiles-dir <span style="color: #bc8f8f;">"custom.el"</span><span style="color: #8c8c8c;">))</span>
</pre>




</li>
<li id="sec-2.1.2">Ubiquitous Packages <br/>

<p>
These should be loaded on startup rather than autoloaded on demand
since they are likely to be used in every session
</p>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">cl</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">saveplace</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">ffap</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">uniquify</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">ansi-color</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">recentf</span><span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.1.3">Emacs 22 Backport <br/>

<p>
backport some functionality to Emacs 22 if needed
</p>


<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">dominating-file</span><span style="color: #8c8c8c;">)</span>

</pre>




<p>
this must be loaded before ELPA since it bundles its own
out-of-date js stuff. TODO: fix it to use ELPA dependencies
</p>


<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>load <span style="color: #bc8f8f;">"elpa-to-submit/nxhtml/autostart"</span><span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.1.4">ELPA (Emacs Lisp Package Manager) <br/>

<p>
Load up <a href="http://tromey.com/elpa/">ELPA</a>, the Emacs Lisp package manager
</p>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">package</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>package-initialize<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">starter-kit-elpa</span><span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.1.5">Starter Kit Customizations <br/>

<p>
Load up starter kit customizations
</p>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>load custom-file 'noerror<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.1.6">Work around OS X bug <br/>

<p>
Work around a bug on OS X where system-name is FQDN
</p>


<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>eq system-type 'darwin<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>setq system-name <span style="color: #8c8c8c;">(</span>car <span style="color: #8c8c8c;">(</span>split-string system-name <span style="color: #bc8f8f;">"\\."</span><span style="color: #8c8c8c;">))))</span>

</pre>




</li>
<li id="sec-2.1.7">System/User specific customizations <br/>

<p>
You can keep system- or user-specific customizations here in either
raw emacs-lisp files or as embedded elisp in org-mode files (as done
in this document).
</p>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>setq system-specific-config <span style="color: #8c8c8c;">(</span>concat dotfiles-dir system-name <span style="color: #bc8f8f;">".el"</span><span style="color: #8c8c8c;">)</span>
system-specific-literate-config <span style="color: #8c8c8c;">(</span>concat dotfiles-dir system-name <span style="color: #bc8f8f;">".org"</span><span style="color: #8c8c8c;">)</span>
user-specific-config <span style="color: #8c8c8c;">(</span>concat dotfiles-dir user-login-name <span style="color: #bc8f8f;">".el"</span><span style="color: #8c8c8c;">)</span>
user-specific-literate-config <span style="color: #8c8c8c;">(</span>concat dotfiles-dir user-login-name <span style="color: #bc8f8f;">".org"</span><span style="color: #8c8c8c;">)</span>
user-specific-dir <span style="color: #8c8c8c;">(</span>concat dotfiles-dir user-login-name<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'load-path user-specific-dir<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>file-exists-p system-specific-config<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>load system-specific-config<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>file-exists-p system-specific-literate-config<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>org-babel-load system-specific-literate-config<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>file-exists-p user-specific-config<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>load user-specific-config<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>file-exists-p user-specific-literate-config<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>org-babel-load user-specific-literate-config<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">when</span> <span style="color: #8c8c8c;">(</span>file-exists-p user-specific-dir<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>mapc #'load <span style="color: #8c8c8c;">(</span>directory-files user-specific-dir nil <span style="color: #bc8f8f;">".*el$"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>mapc #'org-babel-load <span style="color: #8c8c8c;">(</span>directory-files user-specific-dir nil <span style="color: #bc8f8f;">".*org$"</span><span style="color: #8c8c8c;">)))</span>
</pre>




</li>
</ul>
</div>

</div>

<div id="outline-container-2.2" class="outline-3">
<h3 id="sec-2.2">Starter Kit Defuns </h3>
<div class="outline-text-3" id="text-2.2">





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">thingatpt</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">imenu</span><span style="color: #8c8c8c;">)</span>

</pre>




<ul>
<li id="sec-2.2.1">Network <br/>




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">view-url</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"Open a new buffer containing the contents of URL."</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let*</span> <span style="color: #8c8c8c;">((</span>default <span style="color: #8c8c8c;">(</span>thing-at-point-url-at-point<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>url <span style="color: #8c8c8c;">(</span>read-from-minibuffer <span style="color: #bc8f8f;">"URL: "</span> default<span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>switch-to-buffer <span style="color: #8c8c8c;">(</span>url-retrieve-synchronously url<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>rename-buffer url t<span style="color: #8c8c8c;">)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">TODO: switch to nxml/nxhtml mode
</span><span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">cond</span> <span style="color: #8c8c8c;">((</span>search-forward <span style="color: #bc8f8f;">"&lt;?xml"</span> nil t<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>xml-mode<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">((</span>search-forward <span style="color: #bc8f8f;">"&lt;html"</span> nil t<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>html-mode<span style="color: #8c8c8c;">)))))</span>

</pre>




</li>
<li id="sec-2.2.2">Buffer-related <br/>




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">ido-imenu</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"Update the imenu index and then use ido to select a symbol to navigate to.
Symbols matching the text at point are put first in the completion list."</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>imenu--make-index-alist<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let</span> <span style="color: #8c8c8c;">((</span>name-and-pos '<span style="color: #8c8c8c;">())</span>
<span style="color: #8c8c8c;">(</span>symbol-names '<span style="color: #8c8c8c;">()))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">flet</span> <span style="color: #8c8c8c;">((</span>addsymbols <span style="color: #8c8c8c;">(</span>symbol-list<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">when</span> <span style="color: #8c8c8c;">(</span>listp symbol-list<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">dolist</span> <span style="color: #8c8c8c;">(</span>symbol symbol-list<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let</span> <span style="color: #8c8c8c;">((</span>name nil<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>position nil<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">cond</span>
<span style="color: #8c8c8c;">((</span>and <span style="color: #8c8c8c;">(</span>listp symbol<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>imenu--subalist-p symbol<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>addsymbols symbol<span style="color: #8c8c8c;">))</span>

<span style="color: #8c8c8c;">((</span>listp symbol<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>setq name <span style="color: #8c8c8c;">(</span>car symbol<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>setq position <span style="color: #8c8c8c;">(</span>cdr symbol<span style="color: #8c8c8c;">)))</span>

<span style="color: #8c8c8c;">((</span>stringp symbol<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>setq name symbol<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>setq position <span style="color: #8c8c8c;">(</span>get-text-property 1 'org-imenu-marker symbol<span style="color: #8c8c8c;">))))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">unless</span> <span style="color: #8c8c8c;">(</span>or <span style="color: #8c8c8c;">(</span>null position<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>null name<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'symbol-names name<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'name-and-pos <span style="color: #8c8c8c;">(</span>cons name position<span style="color: #8c8c8c;">))))))))</span>
<span style="color: #8c8c8c;">(</span>addsymbols imenu--index-alist<span style="color: #8c8c8c;">))</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">If there are matching symbols at point, put them at the beginning of `</span><span style="color: #5f9ea0;">symbol-names</span><span style="color: #b22222;">'.
</span><span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let</span> <span style="color: #8c8c8c;">((</span>symbol-at-point <span style="color: #8c8c8c;">(</span>thing-at-point 'symbol<span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">when</span> symbol-at-point
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let*</span> <span style="color: #8c8c8c;">((</span>regexp <span style="color: #8c8c8c;">(</span>concat <span style="color: #8c8c8c;">(</span>regexp-quote symbol-at-point<span style="color: #8c8c8c;">)</span> <span style="color: #bc8f8f;">"$"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>matching-symbols <span style="color: #8c8c8c;">(</span>delq nil <span style="color: #8c8c8c;">(</span>mapcar <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">(</span>symbol<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>string-match regexp symbol<span style="color: #8c8c8c;">)</span> symbol<span style="color: #8c8c8c;">))</span>
symbol-names<span style="color: #8c8c8c;">))))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">when</span> matching-symbols
<span style="color: #8c8c8c;">(</span>sort matching-symbols <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">(</span>a b<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>&gt; <span style="color: #8c8c8c;">(</span>length a<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>length b<span style="color: #8c8c8c;">))))</span>
<span style="color: #8c8c8c;">(</span>mapc <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">(</span>symbol<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>setq symbol-names <span style="color: #8c8c8c;">(</span>cons symbol <span style="color: #8c8c8c;">(</span>delete symbol symbol-names<span style="color: #8c8c8c;">))))</span>
matching-symbols<span style="color: #8c8c8c;">)))))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let*</span> <span style="color: #8c8c8c;">((</span>selected-symbol <span style="color: #8c8c8c;">(</span>ido-completing-read <span style="color: #bc8f8f;">"Symbol? "</span> symbol-names<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>position <span style="color: #8c8c8c;">(</span>cdr <span style="color: #8c8c8c;">(</span>assoc selected-symbol name-and-pos<span style="color: #8c8c8c;">))))</span>
<span style="color: #8c8c8c;">(</span>goto-char position<span style="color: #8c8c8c;">))))</span>

</pre>




</li>
<li id="sec-2.2.3">These belong in coding-hook: <br/>

<p>
We have a number of turn-on-* functions since it's advised that lambda
functions not go in hooks. Repeatedly evaling an add-to-list with a
hook value will repeatedly add it since there's no way to ensure that
a lambda doesn't already exist in the list.
</p>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">local-column-number-mode</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span>make-local-variable 'column-number-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>column-number-mode t<span style="color: #8c8c8c;">))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">local-comment-auto-fill</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span>set <span style="color: #8c8c8c;">(</span>make-local-variable 'comment-auto-fill-only-comments<span style="color: #8c8c8c;">)</span> t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>auto-fill-mode t<span style="color: #8c8c8c;">))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">turn-on-hl-line-mode</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> window-system <span style="color: #8c8c8c;">(</span>hl-line-mode t<span style="color: #8c8c8c;">)))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">turn-on-save-place-mode</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span>setq save-place t<span style="color: #8c8c8c;">))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">turn-on-whitespace</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span>whitespace-mode t<span style="color: #8c8c8c;">))</span>
</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>add-hook 'coding-hook 'local-column-number-mode<span style="color: #8c8c8c;">)</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>add-hook 'coding-hook 'local-comment-auto-fill<span style="color: #8c8c8c;">)</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>add-hook 'coding-hook 'turn-on-hl-line-mode<span style="color: #8c8c8c;">)</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>add-hook 'coding-hook 'pretty-lambdas<span style="color: #8c8c8c;">)</span>

</pre>







<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">run-coding-hook</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"Enable things that are convenient across all coding buffers."</span>
<span style="color: #8c8c8c;">(</span>run-hooks 'coding-hook<span style="color: #8c8c8c;">))</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">untabify-buffer</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>untabify <span style="color: #8c8c8c;">(</span>point-min<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>point-max<span style="color: #8c8c8c;">)))</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">indent-buffer</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>indent-region <span style="color: #8c8c8c;">(</span>point-min<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>point-max<span style="color: #8c8c8c;">)))</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">cleanup-buffer</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"Perform a bunch of operations on the whitespace content of a buffer."</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>indent-buffer<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>untabify-buffer<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>delete-trailing-whitespace<span style="color: #8c8c8c;">))</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">recentf-ido-find-file</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"Find a recent file using ido."</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let</span> <span style="color: #8c8c8c;">((</span>file <span style="color: #8c8c8c;">(</span>ido-completing-read <span style="color: #bc8f8f;">"Choose recent file: "</span> recentf-list nil t<span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">when</span> file
<span style="color: #8c8c8c;">(</span>find-file file<span style="color: #8c8c8c;">))))</span>

</pre>




</li>
<li id="sec-2.2.4">Cosmetic <br/>




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">pretty-lambdas</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span>font-lock-add-keywords
nil `<span style="color: #8c8c8c;">((</span><span style="color: #bc8f8f;">"(?</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">lambda\\&gt;</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">"</span>
<span style="color: #8c8c8c;">(</span>0 <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">progn</span> <span style="color: #8c8c8c;">(</span>compose-region <span style="color: #8c8c8c;">(</span>match-beginning 1<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>match-end 1<span style="color: #8c8c8c;">)</span>
,<span style="color: #8c8c8c;">(</span>make-char 'greek-iso8859-7 107<span style="color: #8c8c8c;">))</span>
nil<span style="color: #8c8c8c;">))))))</span>

</pre>




</li>
<li id="sec-2.2.5">Other <br/>




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">eval-and-replace</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"Replace the preceding sexp with its value."</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>backward-kill-sexp<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">condition-case</span> nil
<span style="color: #8c8c8c;">(</span>prin1 <span style="color: #8c8c8c;">(</span>eval <span style="color: #8c8c8c;">(</span>read <span style="color: #8c8c8c;">(</span>current-kill 0<span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>current-buffer<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #ff0000; font-weight: bold;">error</span> <span style="color: #8c8c8c;">(</span>message <span style="color: #bc8f8f;">"Invalid expression"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>insert <span style="color: #8c8c8c;">(</span>current-kill 0<span style="color: #8c8c8c;">)))))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">recompile-init</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"Byte-compile all your dotfiles again."</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>byte-recompile-directory dotfiles-dir 0<span style="color: #8c8c8c;">)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">TODO: remove elpa-to-submit once everything's submitted.
</span><span style="color: #8c8c8c;">(</span>byte-recompile-directory <span style="color: #8c8c8c;">(</span>concat dotfiles-dir <span style="color: #bc8f8f;">"elpa-to-submit/"</span> 0<span style="color: #8c8c8c;">)))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">regen-autoloads</span> <span style="color: #8c8c8c;">(</span><span style="color: #228b22;">&amp;optional</span> force-regen<span style="color: #8c8c8c;">)</span>
<span style="color: #bc8f8f;">"Regenerate the autoload definitions file if necessary and load it."</span>
<span style="color: #8c8c8c;">(</span>interactive <span style="color: #bc8f8f;">"P"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let</span> <span style="color: #8c8c8c;">((</span>autoload-dir <span style="color: #8c8c8c;">(</span>concat dotfiles-dir <span style="color: #bc8f8f;">"/elpa-to-submit"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>generated-autoload-file autoload-file<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">when</span> <span style="color: #8c8c8c;">(</span>or force-regen
<span style="color: #8c8c8c;">(</span>not <span style="color: #8c8c8c;">(</span>file-exists-p autoload-file<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>some <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">(</span>f<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>file-newer-than-file-p f autoload-file<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>directory-files autoload-dir t <span style="color: #bc8f8f;">"\\.el$"</span><span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>message <span style="color: #bc8f8f;">"Updating autoloads..."</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let</span> <span style="color: #8c8c8c;">(</span>emacs-lisp-mode-hook<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>update-directory-autoloads autoload-dir<span style="color: #8c8c8c;">))))</span>
<span style="color: #8c8c8c;">(</span>load autoload-file<span style="color: #8c8c8c;">))</span>
</pre>




<p>
TODO: fix this
</p>


<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">sudo-edit</span> <span style="color: #8c8c8c;">(</span><span style="color: #228b22;">&amp;optional</span> arg<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>interactive <span style="color: #bc8f8f;">"p"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> arg
<span style="color: #8c8c8c;">(</span>find-file <span style="color: #8c8c8c;">(</span>concat <span style="color: #bc8f8f;">"/sudo:root@localhost:"</span> <span style="color: #8c8c8c;">(</span>ido-read-file-name <span style="color: #bc8f8f;">"File: "</span><span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>find-alternate-file <span style="color: #8c8c8c;">(</span>concat <span style="color: #bc8f8f;">"/sudo:root@localhost:"</span> buffer-file-name<span style="color: #8c8c8c;">))))</span>

</pre>




<p>
Useful when a large block of text is required (e.g. for testing)
</p>


<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">lorem</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"Insert a lorem ipsum."</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>insert <span style="color: #bc8f8f;">"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do "</span>
<span style="color: #bc8f8f;">"eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim"</span>
<span style="color: #bc8f8f;">"ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut "</span>
<span style="color: #bc8f8f;">"aliquip ex ea commodo consequat. Duis aute irure dolor in "</span>
<span style="color: #bc8f8f;">"reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla "</span>
<span style="color: #bc8f8f;">"pariatur. Excepteur sint occaecat cupidatat non proident, sunt in "</span>
<span style="color: #bc8f8f;">"culpa qui officia deserunt mollit anim id est laborum."</span><span style="color: #8c8c8c;">))</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">switch-or-start</span> <span style="color: #8c8c8c;">(</span>function buffer<span style="color: #8c8c8c;">)</span>
<span style="color: #bc8f8f;">"If the buffer is current, bury it, otherwise invoke the function."</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>equal <span style="color: #8c8c8c;">(</span>buffer-name <span style="color: #8c8c8c;">(</span>current-buffer<span style="color: #8c8c8c;">))</span> buffer<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>bury-buffer<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>get-buffer buffer<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>switch-to-buffer buffer<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>funcall function<span style="color: #8c8c8c;">))))</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">insert-date</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"Insert a time-stamp according to locale's date and time format."</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>insert <span style="color: #8c8c8c;">(</span>format-time-string <span style="color: #bc8f8f;">"%c"</span> <span style="color: #8c8c8c;">(</span>current-time<span style="color: #8c8c8c;">))))</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">pairing-bot</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"If you can't pair program with a human, use this instead."</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>message <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>y-or-n-p <span style="color: #bc8f8f;">"Do you have a test for that? "</span><span style="color: #8c8c8c;">)</span> <span style="color: #bc8f8f;">"Good."</span> <span style="color: #bc8f8f;">"Bad!"</span><span style="color: #8c8c8c;">)))</span>

</pre>




<p>
A monkeypatch to cause annotate to ignore whitespace
</p>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">vc-git-annotate-command</span> <span style="color: #8c8c8c;">(</span>file buf <span style="color: #228b22;">&amp;optional</span> rev<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let</span> <span style="color: #8c8c8c;">((</span>name <span style="color: #8c8c8c;">(</span>file-relative-name file<span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>vc-git-command buf 0 name <span style="color: #bc8f8f;">"blame"</span> <span style="color: #bc8f8f;">"-w"</span> rev<span style="color: #8c8c8c;">)))</span>

</pre>




</li>
</ul>
</div>

</div>

<div id="outline-container-2.3" class="outline-3">
<h3 id="sec-2.3">Starter Kit Bindings </h3>
<div class="outline-text-3" id="text-2.3">


<ul>
<li id="sec-2.3.1">You know, like Readline. <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-M-h"</span><span style="color: #8c8c8c;">)</span> 'backward-kill-word<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.2">Align your code in a pretty way. <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x \\"</span><span style="color: #8c8c8c;">)</span> 'align-regexp<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.3">Completion that uses many different methods to find options. <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"M-/"</span><span style="color: #8c8c8c;">)</span> 'hippie-expand<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.4">Perform general cleanup. <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-c n"</span><span style="color: #8c8c8c;">)</span> 'cleanup-buffer<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.5">Turn on the menu bar for exploring new modes <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key [f1] 'menu-bar-mode<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.6">Font size <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>define-key global-map <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-+"</span><span style="color: #8c8c8c;">)</span> 'text-scale-increase<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>define-key global-map <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C--"</span><span style="color: #8c8c8c;">)</span> 'text-scale-decrease<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.7">Use regex searches by default. <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-s"</span><span style="color: #8c8c8c;">)</span> 'isearch-forward-regexp<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"\C-r"</span><span style="color: #8c8c8c;">)</span> 'isearch-backward-regexp<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-M-s"</span><span style="color: #8c8c8c;">)</span> 'isearch-forward<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-M-r"</span><span style="color: #8c8c8c;">)</span> 'isearch-backward<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.8">Jump to a definition in the current file. (This is awesome.) <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x C-i"</span><span style="color: #8c8c8c;">)</span> 'ido-imenu<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.9">File finding <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x M-f"</span><span style="color: #8c8c8c;">)</span> 'ido-find-file-other-window<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x C-M-f"</span><span style="color: #8c8c8c;">)</span> 'find-file-in-project<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x f"</span><span style="color: #8c8c8c;">)</span> 'recentf-ido-find-file<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x C-p"</span><span style="color: #8c8c8c;">)</span> 'find-file-at-point<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-c y"</span><span style="color: #8c8c8c;">)</span> 'bury-buffer<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-c r"</span><span style="color: #8c8c8c;">)</span> 'revert-buffer<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"M-`"</span><span style="color: #8c8c8c;">)</span> 'file-cache-minibuffer-complete<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x C-b"</span><span style="color: #8c8c8c;">)</span> 'ibuffer<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.10">Window switching. (C-x o goes to the next window) <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>windmove-default-keybindings<span style="color: #8c8c8c;">)</span> <span style="color: #b22222;">;; </span><span style="color: #b22222;">Shift+direction
</span><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x O"</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>other-window -1<span style="color: #8c8c8c;">)))</span> <span style="color: #b22222;">;; </span><span style="color: #b22222;">back one
</span><span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x C-o"</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>other-window 2<span style="color: #8c8c8c;">)))</span> <span style="color: #b22222;">;; </span><span style="color: #b22222;">forward two
</span>
</pre>




</li>
<li id="sec-2.3.11">Indentation help <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x ^"</span><span style="color: #8c8c8c;">)</span> 'join-line<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.12">Start eshell or switch to it if it's active. <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x m"</span><span style="color: #8c8c8c;">)</span> 'eshell<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.13">Start a new eshell even if one is active. <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x M"</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>eshell t<span style="color: #8c8c8c;">)))</span>

</pre>




</li>
<li id="sec-2.3.14">Start a regular shell if you prefer that. <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x M-m"</span><span style="color: #8c8c8c;">)</span> 'shell<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.15">If you want to be able to M-x without meta <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x C-m"</span><span style="color: #8c8c8c;">)</span> 'execute-extended-command<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.16">Fetch the contents at a URL, display it raw. <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x h"</span><span style="color: #8c8c8c;">)</span> 'view-url<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.17">Help should search more than just commands <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-h a"</span><span style="color: #8c8c8c;">)</span> 'apropos<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.18">Should be able to eval-and-replace anywhere. <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-c e"</span><span style="color: #8c8c8c;">)</span> 'eval-and-replace<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.19">Applications <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-c j"</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>switch-or-start 'jabber-connect <span style="color: #bc8f8f;">"*-jabber-*"</span><span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-c g"</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>switch-or-start 'gnus <span style="color: #bc8f8f;">"*Group*"</span><span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-c i"</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>switch-or-start <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span>rcirc-connect <span style="color: #bc8f8f;">"irc.freenode.net"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #bc8f8f;">"*irc.freenode.net*"</span><span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-c J"</span><span style="color: #8c8c8c;">)</span> 'jabber-send-presence<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-c M-j"</span><span style="color: #8c8c8c;">)</span> 'jabber-disconnect<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-x g"</span><span style="color: #8c8c8c;">)</span> 'magit-status<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.3.20">This is a little hacky since VC doesn't support git add internally <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">eval-after-load</span> 'vc
<span style="color: #8c8c8c;">(</span>define-key vc-prefix-map <span style="color: #bc8f8f;">"i"</span> '<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>not <span style="color: #8c8c8c;">(</span>eq 'Git <span style="color: #8c8c8c;">(</span>vc-backend buffer-file-name<span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>vc-register<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>shell-command <span style="color: #8c8c8c;">(</span>format <span style="color: #bc8f8f;">"git add %s"</span> buffer-file-name<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>message <span style="color: #bc8f8f;">"Staged changes."</span><span style="color: #8c8c8c;">)))))</span>

</pre>




</li>
<li id="sec-2.3.21">Activate occur easily inside isearch <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>define-key isearch-mode-map <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-o"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let</span> <span style="color: #8c8c8c;">((</span>case-fold-search isearch-case-fold-search<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>occur <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> isearch-regexp isearch-string <span style="color: #8c8c8c;">(</span>regexp-quote isearch-string<span style="color: #8c8c8c;">))))))</span>

</pre>




</li>
<li id="sec-2.3.22">Closing <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">provide</span> '<span style="color: #5f9ea0;">starter-kit-bindings</span><span style="color: #8c8c8c;">)</span>
<span style="color: #b22222;">;;; </span><span style="color: #b22222;">starter-kit-bindings.el ends here
</span>
</pre>




</li>
</ul>
</div>

</div>

<div id="outline-container-2.4" class="outline-3">
<h3 id="sec-2.4">Starter Kit Registers </h3>
<div class="outline-text-3" id="text-2.4">

<p>Registers allow you to jump to a file or other location quickly. Use
<code>C-x r j</code> followed by the letter of the register (i for <code>init.el</code>, s
for this file) to jump to it.
</p>
<p>
You should add registers here for the files you edit most often.
</p>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">dolist</span> <span style="color: #8c8c8c;">(</span>r `<span style="color: #8c8c8c;">((</span>?i <span style="color: #8c8c8c;">(</span>file . ,<span style="color: #8c8c8c;">(</span>concat dotfiles-dir <span style="color: #bc8f8f;">"init.el"</span><span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>?s <span style="color: #8c8c8c;">(</span>file . ,<span style="color: #8c8c8c;">(</span>concat dotfiles-dir <span style="color: #bc8f8f;">"starter-kit.org"</span><span style="color: #8c8c8c;">)))))</span>
<span style="color: #8c8c8c;">(</span>set-register <span style="color: #8c8c8c;">(</span>car r<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>cadr r<span style="color: #8c8c8c;">)))</span>

</pre>




</div>

</div>

<div id="outline-container-2.5" class="outline-3">
<h3 id="sec-2.5">Starter Kit Misc </h3>
<div class="outline-text-3" id="text-2.5">


<ul>
<li id="sec-2.5.1">Window system stuff <br/>




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">when</span> window-system
<span style="color: #8c8c8c;">(</span>setq frame-title-format '<span style="color: #8c8c8c;">(</span>buffer-file-name <span style="color: #bc8f8f;">"%f"</span> <span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"%b"</span><span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>tooltip-mode -1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>tool-bar-mode -1<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>blink-cursor-mode -1<span style="color: #8c8c8c;">))</span>

<span style="color: #8c8c8c;">(</span>mouse-wheel-mode t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-terminal-coding-system 'utf-8<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-keyboard-coding-system 'utf-8<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>prefer-coding-system 'utf-8<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>setq visible-bell t
echo-keystrokes 0.1
font-lock-maximum-decoration t
inhibit-startup-message t
transient-mark-mode t
color-theme-is-global t
delete-by-moving-to-trash t
shift-select-mode nil
truncate-partial-width-windows nil
uniquify-buffer-name-style 'forward
whitespace-style '<span style="color: #8c8c8c;">(</span>trailing lines space-before-tab
indentation space-after-tab<span style="color: #8c8c8c;">)</span>
whitespace-line-column 100
ediff-window-setup-function 'ediff-setup-windows-plain
oddmuse-directory <span style="color: #8c8c8c;">(</span>concat dotfiles-dir <span style="color: #bc8f8f;">"oddmuse"</span><span style="color: #8c8c8c;">)</span>
xterm-mouse-mode t
save-place-file <span style="color: #8c8c8c;">(</span>concat dotfiles-dir <span style="color: #bc8f8f;">"places"</span><span style="color: #8c8c8c;">))</span>
</pre>




</li>
<li id="sec-2.5.2">Set browser <br/>
Set this to whatever browser you use e.g&hellip;
<pre class="example">
;; (setq browse-url-browser-function 'browse-url-firefox)
;; (setq browse-url-browser-function 'browse-default-macosx-browser)
;; (setq browse-url-browser-function 'browse-default-windows-browser)
;; (setq browse-url-browser-function 'browse-default-kde)
;; (setq browse-url-browser-function 'browse-default-epiphany)
;; (setq browse-url-browser-function 'browse-default-w3m)
;; (setq browse-url-browser-function 'browse-url-generic
;;       browse-url-generic-program "~/src/conkeror/conkeror")
</pre>


</li>
<li id="sec-2.5.3">Transparently open compressed files <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>auto-compression-mode t<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.5.4">Enable syntax highlighting for older Emacsen that have it off <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-font-lock-mode t<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.5.5">No Menu Bar <br/>
You really don't need this; trust me.



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>menu-bar-mode -1<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.5.6">Save a list of recent files visited. <br/>
(recentf-mode 1)

</li>
<li id="sec-2.5.7">Highlight matching parentheses when the point is on them. <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>show-paren-mode 1<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.5.8">ido mode <br/>
ido-mode is like magic pixie dust!



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">when</span> <span style="color: #8c8c8c;">(</span>&gt; emacs-major-version 21<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>ido-mode t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>setq ido-enable-prefix nil
ido-enable-flex-matching t
ido-create-new-buffer 'always
ido-use-filename-at-point t
ido-max-prospects 10<span style="color: #8c8c8c;">))</span>

</pre>




</li>
<li id="sec-2.5.9">Other <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>set-default 'indent-tabs-mode nil<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-default 'indicate-empty-lines t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-default 'imenu-auto-rescan t<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-hook 'text-mode-hook 'turn-on-auto-fill<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'text-mode-hook 'turn-on-flyspell<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defvar</span> <span style="color: #b8860b;">coding-hook</span> nil
<span style="color: #bc8f8f;">"Hook that gets run on activation of any programming mode."</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defalias</span> '<span style="color: #0000ff;">yes-or-no-p</span> 'y-or-n-p<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>random t<span style="color: #8c8c8c;">)</span> <span style="color: #b22222;">;; </span><span style="color: #b22222;">Seed the random-number generator
</span></pre>




</li>
<li id="sec-2.5.10">Hippie expand: at times perhaps too hip <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>delete 'try-expand-line hippie-expand-try-functions-list<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>delete 'try-expand-list hippie-expand-try-functions-list<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.5.11">Don't clutter up directories with files~ <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>setq backup-directory-alist `<span style="color: #8c8c8c;">((</span><span style="color: #bc8f8f;">"."</span> . ,<span style="color: #8c8c8c;">(</span>expand-file-name
<span style="color: #8c8c8c;">(</span>concat dotfiles-dir <span style="color: #bc8f8f;">"backups"</span><span style="color: #8c8c8c;">)))))</span>

</pre>




</li>
<li id="sec-2.5.12">nxhtml stuff <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>setq mumamo-chunk-coloring 'submode-colored
nxhtml-skip-welcome t
indent-region-mode t
rng-nxml-auto-validate-flag nil<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.5.13">Associate modes with file extensions <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"COMMIT_EDITMSG$"</span> . diff-mode<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"\\.css$"</span> . css-mode<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"\\.ya?ml$"</span> . yaml-mode<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"\\.rb$"</span> . ruby-mode<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"Rakefile$"</span> . ruby-mode<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"\\.js</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">on</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">?$"</span> . js2-mode<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"\\.xml$"</span> . nxml-mode<span style="color: #8c8c8c;">))</span>

</pre>




</li>
<li id="sec-2.5.14">Default to unified diffs <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>setq diff-switches <span style="color: #bc8f8f;">"-u"</span><span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.5.15">Cosmetics <br/>




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">eval-after-load</span> 'diff-mode
'<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">progn</span>
<span style="color: #8c8c8c;">(</span>set-face-foreground 'diff-added <span style="color: #bc8f8f;">"green4"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-face-foreground 'diff-removed <span style="color: #bc8f8f;">"red3"</span><span style="color: #8c8c8c;">)))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">eval-after-load</span> 'magit
'<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">progn</span>
<span style="color: #8c8c8c;">(</span>set-face-foreground 'magit-diff-add <span style="color: #bc8f8f;">"green3"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-face-foreground 'magit-diff-del <span style="color: #bc8f8f;">"red3"</span><span style="color: #8c8c8c;">)))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">eval-after-load</span> 'nxhtml
'<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">eval-after-load</span> 'zenburn
'<span style="color: #8c8c8c;">(</span>set-face-background 'mumamo-background-chunk-submode <span style="color: #bc8f8f;">"gray22"</span><span style="color: #8c8c8c;">)))</span>
</pre>




</li>
</ul>
</div>

</div>

<div id="outline-container-2.6" class="outline-3">
<h3 id="sec-2.6">Starter Kit ELPA </h3>
<div class="outline-text-3" id="text-2.6">


<p>
The following packages should all ways be installed
</p>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defvar</span> <span style="color: #b8860b;">starter-kit-packages</span> <span style="color: #8c8c8c;">(</span>list 'idle-highlight
'ruby-mode
'inf-ruby
'js2-mode
'css-mode
<span style="color: #b22222;">;; </span><span style="color: #b22222;">'nxml
</span>'gist
'paredit<span style="color: #8c8c8c;">)</span>
<span style="color: #bc8f8f;">"Libraries that should be installed by default."</span><span style="color: #8c8c8c;">)</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">starter-kit-elpa-install</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"Install all starter-kit packages that aren't installed."</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">dolist</span> <span style="color: #8c8c8c;">(</span>package starter-kit-packages<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">unless</span> <span style="color: #8c8c8c;">(</span>or <span style="color: #8c8c8c;">(</span>member package package-activated-list<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>functionp package<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>message <span style="color: #bc8f8f;">"Installing %s"</span> <span style="color: #8c8c8c;">(</span>symbol-name package<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>package-install package<span style="color: #8c8c8c;">))))</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">esk-online?</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"See if we're online.

Windows does not have the network-interface-list function, so we
just have to assume it's online."</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">TODO how could this work on Windows?
</span><span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>and <span style="color: #8c8c8c;">(</span>functionp 'network-interface-list<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>network-interface-list<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>some <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">(</span>iface<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">unless</span> <span style="color: #8c8c8c;">(</span>equal <span style="color: #bc8f8f;">"lo"</span> <span style="color: #8c8c8c;">(</span>car iface<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>member 'up <span style="color: #8c8c8c;">(</span>first <span style="color: #8c8c8c;">(</span>last <span style="color: #8c8c8c;">(</span>network-interface-info
<span style="color: #8c8c8c;">(</span>car iface<span style="color: #8c8c8c;">)))))))</span>
<span style="color: #8c8c8c;">(</span>network-interface-list<span style="color: #8c8c8c;">))</span>
t<span style="color: #8c8c8c;">))</span>
</pre>




<p>
On your first run, this should pull in all the base packages.
</p>


<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">when</span> <span style="color: #8c8c8c;">(</span>esk-online?<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">unless</span> package-archive-contents <span style="color: #8c8c8c;">(</span>package-refresh-contents<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>starter-kit-elpa-install<span style="color: #8c8c8c;">))</span>

</pre>




<p>
Workaround for an ELPA bug that people are reporting but I've been
unable to reproduce:
</p>


<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>autoload 'paredit-mode <span style="color: #bc8f8f;">"paredit"</span><span style="color: #8c8c8c;">)</span>

</pre>




</div>

</div>

<div id="outline-container-2.7" class="outline-3">
<h3 id="sec-2.7">Starter Kit Eshell </h3>
<div class="outline-text-3" id="text-2.7">

<p><a href="http://www.emacswiki.org/emacs/CategoryEshell">Eshell</a> is a great shell.
</p>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>setq eshell-cmpl-cycle-completions nil
eshell-save-history-on-exit t
eshell-cmpl-dir-ignore <span style="color: #bc8f8f;">"\\`</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">\\.\\.?</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">|</span><span style="color: #bc8f8f;">CVS</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">|</span><span style="color: #bc8f8f;">\\.svn</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">|</span><span style="color: #bc8f8f;">\\.git</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">/\\'"</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">eval-after-load</span> 'esh-opt
'<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">progn</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">em-prompt</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">em-term</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">em-cmpl</span><span style="color: #8c8c8c;">)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">TODO: for some reason requiring this here breaks it, but
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">requiring it after an eshell session is started works fine.
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">(require 'eshell-vc)
</span><span style="color: #8c8c8c;">(</span>setenv <span style="color: #bc8f8f;">"PAGER"</span> <span style="color: #bc8f8f;">"cat"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>set-face-attribute 'eshell-prompt nil <span style="color: #da70d6;">:foreground</span> <span style="color: #bc8f8f;">"turquoise1"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'eshell-mode-hook <span style="color: #b22222;">;; </span><span style="color: #b22222;">for some reason this needs to be a hook
</span>'<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">(</span>define-key eshell-mode-map <span style="color: #bc8f8f;">"\C-a"</span> 'eshell-bol<span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'eshell-visual-commands <span style="color: #bc8f8f;">"ssh"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'eshell-visual-commands <span style="color: #bc8f8f;">"tail"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'eshell-command-completions-alist
'<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"gunzip"</span> <span style="color: #bc8f8f;">"gz\\'"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'eshell-command-completions-alist
'<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"tar"</span> <span style="color: #bc8f8f;">"</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">\\.tar|\\.tgz</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">|</span><span style="color: #bc8f8f;">\\.tar\\.gz</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">\\'"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'eshell-output-filter-functions 'eshell-handle-ansi-color<span style="color: #8c8c8c;">)))</span>
</pre>




</div>

</div>

<div id="outline-container-2.8" class="outline-3">
<h3 id="sec-2.8">Starter Kit Lisp </h3>
<div class="outline-text-3" id="text-2.8">


<ul>
<li id="sec-2.8.1">Define keys <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>define-key read-expression-map <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"TAB"</span><span style="color: #8c8c8c;">)</span> 'lisp-complete-symbol<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>define-key lisp-mode-shared-map <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-c l"</span><span style="color: #8c8c8c;">)</span> <span style="color: #bc8f8f;">"lambda"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>define-key lisp-mode-shared-map <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"RET"</span><span style="color: #8c8c8c;">)</span> 'reindent-then-newline-and-indent<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>define-key lisp-mode-shared-map <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-\\"</span><span style="color: #8c8c8c;">)</span> 'lisp-complete-symbol<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>define-key lisp-mode-shared-map <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-c v"</span><span style="color: #8c8c8c;">)</span> 'eval-buffer<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.8.2">Paredit <br/>
<a href="http://www.emacswiki.org/emacs/ParEdit">Paredit</a> might seem weird at first, but it really makes writing lisp a
much more comfortable experience.  This is especially useful in
combination with the sexp movement functions (<code>C-M-f</code> forward, <code>C-M-b</code>
back, <code>C-M-u</code> up, <code>C-M-d</code> down)




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">turn-on-paredit</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span>paredit-mode +1<span style="color: #8c8c8c;">))</span>

</pre>




<pre class="example">
;; (eval-after-load 'paredit
;;      ;; Not sure why paredit behaves this way with comments; it's annoying
;;   '(define-key paredit-mode-map (kbd ";")   'self-insert-command))
</pre>


</li>
<li id="sec-2.8.3">Non-obtrusive parenthesis faces <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defface</span> <span style="color: #b8860b;">esk-paren-face</span>
'<span style="color: #8c8c8c;">((((</span>class color<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>background dark<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #da70d6;">:foreground</span> <span style="color: #bc8f8f;">"grey50"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(((</span>class color<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>background light<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #da70d6;">:foreground</span> <span style="color: #bc8f8f;">"grey55"</span><span style="color: #8c8c8c;">)))</span>
<span style="color: #bc8f8f;">"Face used to dim parentheses."</span>
<span style="color: #da70d6;">:group</span> 'starter-kit-faces<span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.8.4">Emacs Lisp <br/>




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>add-hook 'emacs-lisp-mode-hook 'turn-on-eldoc-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'emacs-lisp-mode-hook 'run-coding-hook<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'emacs-lisp-mode-hook 'esk-remove-elc-on-save<span style="color: #8c8c8c;">)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(add-hook 'emacs-lisp-mode-hook 'idle-highlight)
</span><span style="color: #8c8c8c;">(</span>add-hook 'emacs-lisp-mode-hook 'turn-on-paredit<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">esk-remove-elc-on-save</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"If you're saving an elisp file, likely the .elc is no longer valid."</span>
<span style="color: #8c8c8c;">(</span>make-local-variable 'after-save-hook<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'after-save-hook
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>file-exists-p <span style="color: #8c8c8c;">(</span>concat buffer-file-name <span style="color: #bc8f8f;">"c"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>delete-file <span style="color: #8c8c8c;">(</span>concat buffer-file-name <span style="color: #bc8f8f;">"c"</span><span style="color: #8c8c8c;">))))))</span>

<span style="color: #8c8c8c;">(</span>font-lock-add-keywords 'emacs-lisp-mode
'<span style="color: #8c8c8c;">((</span><span style="color: #bc8f8f;">"(</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">|</span><span style="color: #bc8f8f;">)"</span> . 'esk-paren-face<span style="color: #8c8c8c;">)))</span>
</pre>




</li>
<li id="sec-2.8.5">Clojure <br/>




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>add-hook 'clojure-mode-hook 'run-coding-hook<span style="color: #8c8c8c;">)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(add-hook 'clojure-mode-hook 'idle-highlight)
</span>
<span style="color: #8c8c8c;">(</span>font-lock-add-keywords 'clojure-mode
'<span style="color: #8c8c8c;">((</span><span style="color: #bc8f8f;">"(</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">|</span><span style="color: #bc8f8f;">)"</span> . 'esk-paren-face<span style="color: #8c8c8c;">)))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defface</span> <span style="color: #b8860b;">esk-clojure-trace-face</span>
'<span style="color: #8c8c8c;">((((</span>class color<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>background dark<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #da70d6;">:foreground</span> <span style="color: #bc8f8f;">"grey50"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(((</span>class color<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>background light<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #da70d6;">:foreground</span> <span style="color: #bc8f8f;">"grey55"</span><span style="color: #8c8c8c;">)))</span>
<span style="color: #bc8f8f;">"Face used to dim parentheses."</span>
<span style="color: #da70d6;">:group</span> 'starter-kit-faces<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>setq esk-clojure-trace-face 'esk-clojure-trace-face<span style="color: #8c8c8c;">)</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This will make relevant lines stand out more in stack traces
</span><span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">sldb-font-lock</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span>font-lock-add-keywords nil
'<span style="color: #8c8c8c;">((</span><span style="color: #bc8f8f;">"[0-9]+: </span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">clojure\.</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">core</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">|</span><span style="color: #bc8f8f;">lang</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">.*</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">"</span>
1 esk-clojure-trace-face<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"[0-9]+: </span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">java.*</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">"</span>
1 esk-clojure-trace-face<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"[0-9]+: </span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">swank.*</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">"</span>
1 esk-clojure-trace-face<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"\\[</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">[A-Z]+</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">\\]"</span>
1 font-lock-function-name-face<span style="color: #8c8c8c;">))))</span>

<span style="color: #8c8c8c;">(</span>add-hook 'sldb-mode-hook 'sldb-font-lock<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">slime-jump-to-trace</span> <span style="color: #8c8c8c;">(</span><span style="color: #228b22;">&amp;optional</span> on<span style="color: #8c8c8c;">)</span>
<span style="color: #bc8f8f;">"Jump to the file/line that the current stack trace line references.
Only works with files in your project root's src/, not in dependencies."</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">save-excursion</span>
<span style="color: #8c8c8c;">(</span>beginning-of-line<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>search-forward-regexp <span style="color: #bc8f8f;">"[0-9]: </span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">[</span><span style="color: #bc8f8f;">^</span><span style="color: #bc8f8f;">$(]+</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">.*?</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">[0-9]*</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">)"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let</span> <span style="color: #8c8c8c;">((</span>line <span style="color: #8c8c8c;">(</span>string-to-number <span style="color: #8c8c8c;">(</span>match-string 2<span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>ns-path <span style="color: #8c8c8c;">(</span>split-string <span style="color: #8c8c8c;">(</span>match-string 1<span style="color: #8c8c8c;">)</span> <span style="color: #bc8f8f;">"\\."</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>project-root <span style="color: #8c8c8c;">(</span>locate-dominating-file default-directory <span style="color: #bc8f8f;">"src/"</span><span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>find-file <span style="color: #8c8c8c;">(</span>format <span style="color: #bc8f8f;">"%s/src/%s.clj"</span> project-root
<span style="color: #8c8c8c;">(</span>mapconcat 'identity ns-path <span style="color: #bc8f8f;">"/"</span><span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>goto-line line<span style="color: #8c8c8c;">))))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">eval-after-load</span> 'slime
'<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">progn</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defalias</span> '<span style="color: #0000ff;">sldb-toggle-details</span> 'slime-jump-to-trace<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">sldb-prune-initial-frames</span> <span style="color: #8c8c8c;">(</span>frames<span style="color: #8c8c8c;">)</span>
<span style="color: #bc8f8f;">"Show all stack trace lines by default."</span>
frames<span style="color: #8c8c8c;">)))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">eval-after-load</span> 'find-file-in-project
'<span style="color: #8c8c8c;">(</span>add-to-list 'ffip-patterns <span style="color: #bc8f8f;">"*.clj"</span><span style="color: #8c8c8c;">))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">You might like this, but it's a bit disorienting at first:
</span><span style="color: #8c8c8c;">(</span>add-hook 'clojure-mode-hook 'turn-on-paredit<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">clojure-project</span> <span style="color: #8c8c8c;">(</span>path<span style="color: #8c8c8c;">)</span>
<span style="color: #bc8f8f;">"Setup classpaths for a clojure project and starts a new SLIME session.

Kills existing SLIME session, if any."</span>
<span style="color: #8c8c8c;">(</span>interactive <span style="color: #8c8c8c;">(</span>list
<span style="color: #8c8c8c;">(</span>ido-read-directory-name
<span style="color: #bc8f8f;">"Project root: "</span>
<span style="color: #8c8c8c;">(</span>locate-dominating-file default-directory <span style="color: #bc8f8f;">"pom.xml"</span><span style="color: #8c8c8c;">))))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">when</span> <span style="color: #8c8c8c;">(</span>get-buffer <span style="color: #bc8f8f;">"*inferior-lisp*"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>kill-buffer <span style="color: #bc8f8f;">"*inferior-lisp*"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'swank-clojure-extra-vm-args
<span style="color: #8c8c8c;">(</span>format <span style="color: #bc8f8f;">"-Dclojure.compile.path=%s"</span>
<span style="color: #8c8c8c;">(</span>expand-file-name <span style="color: #bc8f8f;">"target/classes/"</span> path<span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>setq swank-clojure-binary nil
swank-clojure-jar-path <span style="color: #8c8c8c;">(</span>expand-file-name <span style="color: #bc8f8f;">"target/dependency/"</span> path<span style="color: #8c8c8c;">)</span>
swank-clojure-extra-classpaths
<span style="color: #8c8c8c;">(</span>append <span style="color: #8c8c8c;">(</span>mapcar <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">(</span>d<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>expand-file-name d path<span style="color: #8c8c8c;">))</span>
'<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"src/"</span> <span style="color: #bc8f8f;">"target/classes/"</span> <span style="color: #bc8f8f;">"test/"</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let</span> <span style="color: #8c8c8c;">((</span>lib <span style="color: #8c8c8c;">(</span>expand-file-name <span style="color: #bc8f8f;">"lib"</span> path<span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>file-exists-p lib<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>directory-files lib t <span style="color: #bc8f8f;">".jar$"</span><span style="color: #8c8c8c;">))))</span>
slime-lisp-implementations
<span style="color: #8c8c8c;">(</span>cons `<span style="color: #8c8c8c;">(</span>clojure ,<span style="color: #8c8c8c;">(</span>swank-clojure-cmd<span style="color: #8c8c8c;">)</span> <span style="color: #da70d6;">:init</span> swank-clojure-init<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>remove-if #'<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">(</span>x<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>eq <span style="color: #8c8c8c;">(</span>car x<span style="color: #8c8c8c;">)</span> 'clojure<span style="color: #8c8c8c;">))</span>
slime-lisp-implementations<span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">save-window-excursion</span>
<span style="color: #8c8c8c;">(</span>slime<span style="color: #8c8c8c;">)))</span>
</pre>




</li>
<li id="sec-2.8.6">Scheme <br/>




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>add-hook 'scheme-mode-hook 'run-coding-hook<span style="color: #8c8c8c;">)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(add-hook 'scheme-mode-hook 'idle-highlight)
</span><span style="color: #8c8c8c;">(</span>font-lock-add-keywords 'scheme-mode
'<span style="color: #8c8c8c;">((</span><span style="color: #bc8f8f;">"(</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">|</span><span style="color: #bc8f8f;">)"</span> . 'esk-paren-face<span style="color: #8c8c8c;">)))</span>

</pre>




</li>
<li id="sec-2.8.7">Common Lisp <br/>




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>add-hook 'lisp-mode-hook 'run-coding-hook<span style="color: #8c8c8c;">)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(add-hook 'lisp-mode-hook 'idle-highlight)
</span><span style="color: #8c8c8c;">(</span>add-hook 'lisp-mode-hook 'turn-on-paredit<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>font-lock-add-keywords 'lisp-mode
'<span style="color: #8c8c8c;">((</span><span style="color: #bc8f8f;">"(</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">|</span><span style="color: #bc8f8f;">)"</span> . 'esk-paren-face<span style="color: #8c8c8c;">)))</span>

</pre>




</li>
</ul>
</div>

</div>

<div id="outline-container-2.9" class="outline-3">
<h3 id="sec-2.9">Starter Kit Ruby </h3>
<div class="outline-text-3" id="text-2.9">





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">eval-after-load</span> 'ruby-mode
'<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">progn</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">work around possible elpa bug
</span><span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">ignore-errors</span> <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">ruby-compilation</span><span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>setq ruby-use-encoding-map nil<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'ruby-mode-hook 'inf-ruby-keys<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>define-key ruby-mode-map <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"RET"</span><span style="color: #8c8c8c;">)</span> 'reindent-then-newline-and-indent<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>define-key ruby-mode-map <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-M-h"</span><span style="color: #8c8c8c;">)</span> 'backward-kill-word<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>define-key ruby-mode-map <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-c l"</span><span style="color: #8c8c8c;">)</span> <span style="color: #bc8f8f;">"lambda"</span><span style="color: #8c8c8c;">)))</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-h r"</span><span style="color: #8c8c8c;">)</span> 'ri<span style="color: #8c8c8c;">)</span>

</pre>




<ul>
<li id="sec-2.9.1">Rake files are ruby, too, as are gemspecs. <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"\\.rake$"</span> . ruby-mode<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"Rakefile$"</span> . ruby-mode<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"\\.gemspec$"</span> . ruby-mode<span style="color: #8c8c8c;">))</span>

</pre>




</li>
<li id="sec-2.9.2">We never want to edit Rubinius bytecode <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>add-to-list 'completion-ignored-extensions <span style="color: #bc8f8f;">".rbc"</span><span style="color: #8c8c8c;">)</span>

</pre>




</li>
<li id="sec-2.9.3">Rake <br/>




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">pcomplete/rake</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"Completion rules for the `</span><span style="color: #5f9ea0;">ssh</span><span style="color: #bc8f8f;">' command."</span>
<span style="color: #8c8c8c;">(</span>pcomplete-here <span style="color: #8c8c8c;">(</span>pcmpl-rake-tasks<span style="color: #8c8c8c;">)))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">pcmpl-rake-tasks</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"Return a list of all the rake tasks defined in the current
projects.  I know this is a hack to put all the logic in the
exec-to-string command, but it works and seems fast"</span>
<span style="color: #8c8c8c;">(</span>delq nil <span style="color: #8c8c8c;">(</span>mapcar '<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span><span style="color: #8c8c8c;">(</span>line<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>string-match <span style="color: #bc8f8f;">"rake </span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">[</span><span style="color: #bc8f8f;">^</span><span style="color: #bc8f8f;"> ]+</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">"</span> line<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>match-string 1 line<span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span>split-string <span style="color: #8c8c8c;">(</span>shell-command-to-string <span style="color: #bc8f8f;">"rake -T"</span><span style="color: #8c8c8c;">)</span> <span style="color: #bc8f8f;">"[\n]"</span><span style="color: #8c8c8c;">))))</span>

<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">rake</span> <span style="color: #8c8c8c;">(</span>task<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>interactive <span style="color: #8c8c8c;">(</span>list <span style="color: #8c8c8c;">(</span>completing-read <span style="color: #bc8f8f;">"Rake (default: default): "</span>
<span style="color: #8c8c8c;">(</span>pcmpl-rake-tasks<span style="color: #8c8c8c;">))))</span>
<span style="color: #8c8c8c;">(</span>shell-command-to-string <span style="color: #8c8c8c;">(</span>concat <span style="color: #bc8f8f;">"rake "</span> <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">if</span> <span style="color: #8c8c8c;">(</span>= 0 <span style="color: #8c8c8c;">(</span>length task<span style="color: #8c8c8c;">))</span> <span style="color: #bc8f8f;">"default"</span> task<span style="color: #8c8c8c;">))))</span>
</pre>




</li>
<li id="sec-2.9.4">Compilation <br/>
Clear the compilation buffer between test runs.




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">eval-after-load</span> 'ruby-compilation
'<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">progn</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defadvice</span> <span style="color: #0000ff;">ruby-do-run-w/compilation</span> <span style="color: #8c8c8c;">(</span>before kill-buffer <span style="color: #8c8c8c;">(</span>name cmdlist<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let</span> <span style="color: #8c8c8c;">((</span>comp-buffer-name <span style="color: #8c8c8c;">(</span>format <span style="color: #bc8f8f;">"*%s*"</span> name<span style="color: #8c8c8c;">)))</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">when</span> <span style="color: #8c8c8c;">(</span>get-buffer comp-buffer-name<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">with-current-buffer</span> comp-buffer-name
<span style="color: #8c8c8c;">(</span>delete-region <span style="color: #8c8c8c;">(</span>point-min<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>point-max<span style="color: #8c8c8c;">))))))</span>
<span style="color: #8c8c8c;">(</span>ad-activate 'ruby-do-run-w/compilation<span style="color: #8c8c8c;">)))</span>

</pre>




</li>
<li id="sec-2.9.5">Hooks <br/>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>add-hook 'ruby-mode-hook 'run-coding-hook<span style="color: #8c8c8c;">)</span>

</pre>




<p>
;; (add-hook 'ruby-mode-hook 'idle-highlight)
</p>
</li>
<li id="sec-2.9.6">Flymake <br/>




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">eval-after-load</span> 'ruby-mode
'<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">progn</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">flymake</span><span style="color: #8c8c8c;">)</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Invoke ruby with '-c' to get syntax checking
</span><span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">flymake-ruby-init</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let*</span> <span style="color: #8c8c8c;">((</span>temp-file <span style="color: #8c8c8c;">(</span>flymake-init-create-temp-buffer-copy
'flymake-create-temp-inplace<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>local-file <span style="color: #8c8c8c;">(</span>file-relative-name
temp-file
<span style="color: #8c8c8c;">(</span>file-name-directory buffer-file-name<span style="color: #8c8c8c;">))))</span>
<span style="color: #8c8c8c;">(</span>list <span style="color: #bc8f8f;">"ruby"</span> <span style="color: #8c8c8c;">(</span>list <span style="color: #bc8f8f;">"-c"</span> local-file<span style="color: #8c8c8c;">))))</span>

<span style="color: #8c8c8c;">(</span>push '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">".+\\.rb$"</span> flymake-ruby-init<span style="color: #8c8c8c;">)</span> flymake-allowed-file-name-masks<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>push '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"Rakefile$"</span> flymake-ruby-init<span style="color: #8c8c8c;">)</span> flymake-allowed-file-name-masks<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>push '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"^</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">.*</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">:</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">[0-9]+</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">: </span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">.*</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">$"</span> 1 2 nil 3<span style="color: #8c8c8c;">)</span>
flymake-err-line-patterns<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-hook 'ruby-mode-hook
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">lambda</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">when</span> <span style="color: #8c8c8c;">(</span>and buffer-file-name
<span style="color: #8c8c8c;">(</span>file-writable-p
<span style="color: #8c8c8c;">(</span>file-name-directory buffer-file-name<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>file-writable-p buffer-file-name<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>local-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-c d"</span><span style="color: #8c8c8c;">)</span>
'flymake-display-err-menu-for-current-line<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>flymake-mode t<span style="color: #8c8c8c;">))))))</span>
</pre>




</li>
<li id="sec-2.9.7">Rinari (Minor Mode for Ruby On Rails) <br/>
See <a href="http://rinari.rubyforge.org/">rinari.rubyforge</a> for more information on rinari.




<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>setq rinari-major-modes
<span style="color: #8c8c8c;">(</span>list 'mumamo-after-change-major-mode-hook 'dired-mode-hook 'ruby-mode-hook
'css-mode-hook 'yaml-mode-hook 'javascript-mode-hook<span style="color: #8c8c8c;">))</span>

</pre>




</li>
</ul>
</div>

</div>

<div id="outline-container-2.10" class="outline-3">
<h3 id="sec-2.10">Starter Kit JS </h3>
<div class="outline-text-3" id="text-2.10">

<p>Java-script Helpers
</p>



<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>font-lock-add-keywords
'espresso-mode `<span style="color: #8c8c8c;">((</span><span style="color: #bc8f8f;">"</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">function *</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">("</span>
<span style="color: #8c8c8c;">(</span>0 <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">progn</span> <span style="color: #8c8c8c;">(</span>compose-region <span style="color: #8c8c8c;">(</span>match-beginning 1<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>match-end 1<span style="color: #8c8c8c;">)</span>
<span style="color: #bc8f8f;">"&#402;"</span><span style="color: #8c8c8c;">)</span>
nil<span style="color: #8c8c8c;">)))))</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>font-lock-add-keywords 'espresso-mode
'<span style="color: #8c8c8c;">((</span><span style="color: #bc8f8f;">"\\&lt;</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">(</span><span style="color: #bc8f8f;">FIX</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">|</span><span style="color: #bc8f8f;">TODO</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">|</span><span style="color: #bc8f8f;">FIXME</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">|</span><span style="color: #bc8f8f;">HACK</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">|</span><span style="color: #bc8f8f;">REFACTOR</span><span style="color: #bc8f8f; font-weight: bold;">\\</span><span style="color: #bc8f8f; font-weight: bold;">)</span><span style="color: #bc8f8f;">:"</span>
1 font-lock-warning-face t<span style="color: #8c8c8c;">)))</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span>autoload 'espresso-mode <span style="color: #bc8f8f;">"espresso"</span> <span style="color: #bc8f8f;">"Start espresso-mode"</span> t<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"\\.js$"</span> . espresso-mode<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"\\.json$"</span> . espresso-mode<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-hook 'espresso-mode-hook 'moz-minor-mode<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'espresso-mode-hook 'turn-on-paredit<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>add-hook 'espresso-mode-hook 'run-coding-hook<span style="color: #8c8c8c;">)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(add-hook 'espresso-mode-hook 'idle-highlight)
</span><span style="color: #8c8c8c;">(</span>setq espresso-indent-level 2<span style="color: #8c8c8c;">)</span>

</pre>





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">defun</span> <span style="color: #0000ff;">esk-pp-json</span> <span style="color: #8c8c8c;">()</span>
<span style="color: #bc8f8f;">"Pretty-print the json object following point."</span>
<span style="color: #8c8c8c;">(</span>interactive<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">require</span> '<span style="color: #5f9ea0;">json</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">let</span> <span style="color: #8c8c8c;">((</span>json-object <span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">save-excursion</span> <span style="color: #8c8c8c;">(</span>json-read<span style="color: #8c8c8c;">))))</span>
<span style="color: #8c8c8c;">(</span>switch-to-buffer <span style="color: #bc8f8f;">"*json*"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>delete-region <span style="color: #8c8c8c;">(</span>point-min<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">(</span>point-max<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>insert <span style="color: #8c8c8c;">(</span>pp json-object<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>goto-char <span style="color: #8c8c8c;">(</span>point-min<span style="color: #8c8c8c;">))))</span>

</pre>




</div>

</div>

<div id="outline-container-2.11" class="outline-3">
<h3 id="sec-2.11">Starter Kit Perl </h3>
<div class="outline-text-3" id="text-2.11">





<pre class="src src-emacs-lisp">
<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">eval-after-load</span> 'cperl-mode
'<span style="color: #8c8c8c;">(</span><span style="color: #7f007f;">progn</span>
<span style="color: #8c8c8c;">(</span>define-key cperl-mode-map <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"RET"</span><span style="color: #8c8c8c;">)</span> 'reindent-then-newline-and-indent<span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>define-key cperl-mode-map <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-M-h"</span><span style="color: #8c8c8c;">)</span> 'backward-kill-word<span style="color: #8c8c8c;">)))</span>

<span style="color: #8c8c8c;">(</span>global-set-key <span style="color: #8c8c8c;">(</span>kbd <span style="color: #bc8f8f;">"C-h P"</span><span style="color: #8c8c8c;">)</span> 'perldoc<span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"\\.p[lm]$"</span> . cperl-mode<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"\\.pod$"</span> . pod-mode<span style="color: #8c8c8c;">))</span>
<span style="color: #8c8c8c;">(</span>add-to-list 'auto-mode-alist '<span style="color: #8c8c8c;">(</span><span style="color: #bc8f8f;">"\\.tt$"</span> . tt-mode<span style="color: #8c8c8c;">))</span>
</pre>





</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3">Development </h2>
<div class="outline-text-2" id="text-3">



</div>

<div id="outline-container-3.1" class="outline-3">
<h3 id="sec-3.1">Tasks [1/10] </h3>
<div class="outline-text-3" id="text-3.1">


<ul>
<li id="sec-3.1.1"><span class="todo TODO"> TODO</span> setup electric for ruby <br/>
</li>
<li id="sec-3.1.2"><span class="todo TODO"> TODO</span> set up ri for ruby <br/>
</li>
<li id="sec-3.1.3"><span class="todo TODO"> TODO</span> Submit the packages in starter-kit-elpa.el to ELPA. <br/>

</li>
<li id="sec-3.1.4"><span class="todo STARTED"> STARTED</span> Greg Newman is working on Python helpers. <br/>

</li>
<li id="sec-3.1.5"><span class="todo STARTED"> STARTED</span> submit ruby fixes to flymake <br/>

</li>
<li id="sec-3.1.6"><span class="todo PROPOSED"> PROPOSED</span> which-func-mode in ruby? <br/>
</li>
<li id="sec-3.1.7"><span class="todo TODO"> TODO</span> all bindings to kbd invocations <br/>

</li>
<li id="sec-3.1.8"><span class="done DEFERRED"> DEFERRED</span> should yasnippet be included in rinari? <br/>
No, rinari has no dependency on yasnippet, and yasnippet has many
applications outside of rinari.

</li>
<li id="sec-3.1.9"><span class="todo TODO"> TODO</span> flymake for perl <br/>
</li>
<li id="sec-3.1.10"><span class="todo TODO"> TODO</span> electric bugaloo for perl <br/>


</li>
</ul>
</div>

</div>

<div id="outline-container-3.2" class="outline-3">
<h3 id="sec-3.2">Bugs [0/1] </h3>
<div class="outline-text-3" id="text-3.2">

<ul>
<li id="sec-3.2.1"><span class="todo TODO"> TODO</span> get jabber.el to automatically disconnect when suspending/hibernating (via dbus) <br/>





<p>
<sup><a class="footref" name="fnr.nil1" href="#fn..2">1</a></sup> If you already have a directory at ~/.emacs.d move it out of
the way and put this there instead.
</p>
<p>
<sup><a class="footref" name="fnr.nil2" href="#fn..2">2</a></sup> The emacs starter kit uses <a href="http://github.com/eschulte/org-babel/tree/master">org-babel</a> to load embedded elisp code
directly from <a href="http://orgmode.org/">Org Mode</a> documents.
</p>
</li>
</ul>
</div>
</div>
</div>
<div id="postamble">
<p class="author"> Author: Eric Schulte
<a href="mailto:schulte.eric@gmail.com">&lt;schulte.eric@gmail.com&gt;</a>
</p>
<p class="date"> Date: 2009-08-02 18:41:24 MDT</p>
<p class="creator">HTML generated by org-mode 6.28trans in emacs 23</p>
</div>
</div>
</body>
</html>
